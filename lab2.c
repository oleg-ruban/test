#include <stdio.h>
#include <math.h>

int main() {
    double x, eps;         // x — аргумент, eps — задана точність
    double term = 1.0;     // поточний член ряду (перший член = 1)
    double sum = 0.0;      // накопичена сума елементів ряду
    int n = 0;             // лічильник ітерацій

    // Введення даних користувачем
    printf("Введіть значення x: ");
    scanf("%lf", &x);

    printf("Введіть точність eps: ");
    scanf("%lf", &eps);

    // Обчислення ряду e^x = 1 + x/1! + x^2/2! + ... з рекурентною формулою
    while (fabs(term) >= eps) { // поки член ряду більший або рівний точності
        sum += term;             // додаємо поточний член до суми
        n++;                     // збільшуємо лічильник ітерацій
        term *= x / n;           // рекурентна формула: a_{n+1} = a_n * x / n
    }

    // Вивід результатів
    printf("\nРезультати обчислення:\n");
    printf("e^x ≈ %.10lf\n", sum);     // наближене значення e^x
    printf("Кількість ітерацій: %d\n", n);
    printf("Точність: %.10lf\n", eps);

    // Порівняння з бібліотечною функцією exp(x)
    printf("Перевірка (exp(x)): %.10lf\n", exp(x));

    return 0;
}
